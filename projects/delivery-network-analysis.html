<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last-mile Delivery Network Analysis - Pat Hall</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">Pat Hall</a>
            <ul class="nav-links">
                <li><a href="../index.html#about">about</a></li>
                <li><a href="../index.html#experience">experience</a></li>
                <li><a href="../index.html#portfolio">projects</a></li>
                <li><a href="../index.html#contact">contact</a></li>
            </ul>
        </div>
    </nav>

    <header class="project-hero">
        <div class="project-hero-image">
            <img src="../images/NA.png" alt="Last-mile Delivery Network Analysis">
        </div>
        <div class="project-hero-content">
            <div class="project-hero-inner">
                <a href="../index.html#portfolio" class="back-link">&larr; back to projects</a>
                <h1>Last-mile Delivery Network Analysis</h1>
                <div class="project-meta">
                    <span>Denver, CO / Model Builder</span>
                    <span>May 2024</span>
                </div>
            </div>
        </div>
    </header>

    <main class="project-main">
        <section class="project-section">
            <h2>Overview</h2>
            <p>Between the onset of the pandemic in March 2020 and the Fall of 2022, third-party food delivery platforms experienced a significant increase in orders for meals and groceries. Doordash alone, one of the most popular food delivery companies in the US, saw its revenues increase 33% between September 2021 and September 2022.</p>
            <p>Utilizing ESRI's Model Builder suite and the Network analyst extension for ArcGIS Pro, this project was a thought experiment exploring how the expansion of platform-based food delivery services in Denver, CO change the city's urban landscape.</p>
        </section>

        <section class="project-section">
            <h2>Methodology</h2>
            <p>I created this model to simulate delivery routes from restaurants over the course of a single day, with the total number of orders based on restaurant responses to an online survey over the course of Spring 2022. Ordering delivery can often feel convenient, but comes with many costs, not all of them felt immediately.</p>
        </section>

        <section class="project-section">
            <h2>Presentation</h2>
            <p>I presented this model at the American Association of Geographer's (AAG) Conference in 2023. Take a look at the slide deck below to see the full story and the models used to create the maps.</p>
        </section>

        <section class="project-section">
            <h2>Gallery</h2>
            <div class="gallery-grid">
                <img src="../assets/delivery-network-analysis/gallery/page-04.png" alt="Delivery Network Analysis Slide Deck - Page 4">
                <img src="../assets/delivery-network-analysis/gallery/page-05.png" alt="Delivery Network Analysis Slide Deck - Page 5">
                <img src="../assets/delivery-network-analysis/gallery/page-06.png" alt="Delivery Network Analysis Slide Deck - Page 6">
                <img src="../assets/delivery-network-analysis/gallery/page-07.png" alt="Delivery Network Analysis Slide Deck - Page 7">
                <img src="../assets/delivery-network-analysis/gallery/page-08.png" alt="Delivery Network Analysis Slide Deck - Page 8">
                <img src="../assets/delivery-network-analysis/gallery/page-09.png" alt="Delivery Network Analysis Slide Deck - Page 9">
                <img src="../assets/delivery-network-analysis/gallery/page-13.png" alt="Delivery Network Analysis Slide Deck - Page 13">
            </div>
        </section>

        <section class="project-section">
            <h2>Slide Deck Download</h2>
            <p><button class="download-link" id="preview-btn">View Full Slide Deck (PDF)</button></p>
        </section>

        <!-- PDF Preview Modal -->
        <div class="pdf-modal" id="pdf-modal">
            <div class="pdf-modal-content">
                <div class="pdf-modal-header">
                    <span>AAG 2023 Presentation Slide Deck</span>
                    <div class="pdf-modal-actions">
                        <a href="../assets/delivery-network-analysis/Last-mile Delivery Network Analysis Slide Deck.pdf" class="pdf-download-btn" download>Download</a>
                        <button class="pdf-close-btn" id="pdf-close">&times;</button>
                    </div>
                </div>
                <iframe src="" id="pdf-iframe" class="pdf-iframe"></iframe>
            </div>
        </div>

        <nav class="project-nav">
            <a href="boulder-hazard-risk.html" class="project-nav-link prev">
                <span class="nav-label">previous</span>
                <span class="nav-title">Boulder Hazard-Risk Mitigation</span>
            </a>
            <a href="cool-roofs-multispectral.html" class="project-nav-link next">
                <span class="nav-label">next</span>
                <span class="nav-title">Cool Roofs Multispectral Analysis</span>
            </a>
        </nav>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Pat Hall</p>
    </footer>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" aria-label="Close">&times;</button>
        <button class="lightbox-prev" aria-label="Previous">&larr;</button>
        <button class="lightbox-next" aria-label="Next">&rarr;</button>
        <div class="lightbox-content">
            <img src="" alt="" id="lightbox-img">
            <p class="lightbox-caption" id="lightbox-caption"></p>
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <script>
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');
        const lightboxCounter = document.getElementById('lightbox-counter');
        const galleryImages = document.querySelectorAll('.gallery-grid img');
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            updateLightbox();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateLightbox() {
            lightboxImg.src = galleryImages[currentIndex].src;
            lightboxImg.alt = galleryImages[currentIndex].alt;
            lightboxCaption.textContent = galleryImages[currentIndex].dataset.caption || '';
            lightboxCounter.textContent = `${currentIndex + 1} / ${galleryImages.length}`;
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
            updateLightbox();
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % galleryImages.length;
            updateLightbox();
        }

        galleryImages.forEach((img, index) => {
            img.addEventListener('click', () => openLightbox(index));
        });

        document.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
        document.querySelector('.lightbox-prev').addEventListener('click', prevImage);
        document.querySelector('.lightbox-next').addEventListener('click', nextImage);

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') prevImage();
            if (e.key === 'ArrowRight') nextImage();
        });

        // PDF Preview
        const pdfModal = document.getElementById('pdf-modal');
        const pdfIframe = document.getElementById('pdf-iframe');
        const pdfPath = '../assets/delivery-network-analysis/Last-mile Delivery Network Analysis Slide Deck.pdf';

        document.getElementById('preview-btn').addEventListener('click', () => {
            pdfIframe.src = pdfPath;
            pdfModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        document.getElementById('pdf-close').addEventListener('click', () => {
            pdfModal.classList.remove('active');
            pdfIframe.src = '';
            document.body.style.overflow = '';
        });

        pdfModal.addEventListener('click', (e) => {
            if (e.target === pdfModal) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && pdfModal.classList.contains('active')) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });
    </script>
</body>
</html>
