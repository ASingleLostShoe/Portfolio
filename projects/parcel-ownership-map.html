<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Parcel Ownership Map - Pat Hall</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">Pat Hall</a>
            <ul class="nav-links">
                <li><a href="../index.html#about">about</a></li>
                <li><a href="../index.html#experience">experience</a></li>
                <li><a href="../index.html#portfolio">projects</a></li>
                <li><a href="../index.html#contact">contact</a></li>
            </ul>
        </div>
    </nav>

    <header class="project-hero">
        <div class="project-hero-image">
            <img src="../images/Arcgis_ExpBui.jpg" alt="Interactive Parcel Ownership Map">
        </div>
        <div class="project-hero-content">
            <div class="project-hero-inner">
                <a href="../index.html#portfolio" class="back-link">&larr; back to projects</a>
                <h1>Interactive Parcel Ownership Map</h1>
                <div class="project-meta">
                    <span>USFS / ArcGIS Online</span>
                    <span>February 2024</span>
                </div>
            </div>
        </div>
    </header>

    <main class="project-main">
        <section class="project-section">
            <h2>Overview</h2>
            <p>In 2023, I collaborated with my team at the University of Colorado GAMLab to deliver a prototype interactive map experience. Whenever the Forest Service does work on National Forest Land which may impact non-government landholders, they are required to notify those land-holders of the work being done.</p>
            <p>Unfortunately, this is easier to say than to do. While parcel ownership data is technically public information, it is managed at the county level in most states. This means that the data is managed in a variety of ways that don't match up perfectly with each other, and that in many cases this data needs to be collected from individual county assessors offices or third-party data aggregators.</p>
            <p>The goal of our project was to create an easy-to-use application for identifying and reaching out to property owners around National Forest land. For this project, we delivered a spatial database of Parcel Ownership and contact information for the states of South Carolina, Florida, and Puerto Rico.</p>
        </section>

        <section class="project-section">
            <h2>My Role</h2>
            <p>My portion of this project was data acquisition and preparation. I was responsible for the state of South Carolina. Once relevant parcels in all counties and states were collected, it was my job to clean the data sets and merge them into a cohesive single table which my colleague Reese Beeler could build the AGOL experience around.</p>
        </section>

        <section class="project-section">
            <h2>Deliverables</h2>
            <p>Once collected, the data was visualized using an interactive map experience developed and hosted in ArcGIS Online (AGOL). The interactive map experience allows the USFS to highlight areas around national forest land and print a list of affected landowners with their mailing addresses for contact.</p>
        </section>

        <section class="project-section">
            <h2>Gallery</h2>
            <div class="gallery-grid">
                <img src="../assets/parcel-ownership-map/gallery/Feb%2027%20Screenshot%20from%20Portfolio.png" alt="Parcel Ownership Map Screenshot" data-caption="View of all parcels adjacent to National Forest Land in the state of Florida.">
                <img src="../assets/parcel-ownership-map/gallery/Feb%2027%20Screenshot%20from%20Portfolio%20(1).png" alt="Parcel Ownership Map Screenshot" data-caption="View of parcels adjacent to Apalachicola National Forest in Florida. The detail box shows attributes that are visible when a user clicks on a specific parcel.">
            </div>
        </section>

        <section class="project-section">
            <h2>Report</h2>
            <p><button class="download-link" id="preview-btn">View Project Report (PDF)</button></p>
        </section>

        <!-- PDF Preview Modal -->
        <div class="pdf-modal" id="pdf-modal">
            <div class="pdf-modal-content">
                <div class="pdf-modal-header">
                    <span>USFS Project Report</span>
                    <div class="pdf-modal-actions">
                        <a href="../assets/parcel-ownership-map/USFS%20Project%20Report.pdf" class="pdf-download-btn" download>Download</a>
                        <button class="pdf-close-btn" id="pdf-close">&times;</button>
                    </div>
                </div>
                <iframe src="" id="pdf-iframe" class="pdf-iframe"></iframe>
            </div>
        </div>

        <nav class="project-nav">
            <a href="gamlab-project-management.html" class="project-nav-link prev">
                <span class="nav-label">previous</span>
                <span class="nav-title">GAMLab Project Management Platform</span>
            </a>
            <a href="drought-putnam-county.html" class="project-nav-link next">
                <span class="nav-label">next</span>
                <span class="nav-title">Drought in Putnam County, WV</span>
            </a>
        </nav>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Pat Hall</p>
    </footer>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" aria-label="Close">&times;</button>
        <button class="lightbox-prev" aria-label="Previous">&larr;</button>
        <button class="lightbox-next" aria-label="Next">&rarr;</button>
        <div class="lightbox-content">
            <img src="" alt="" id="lightbox-img">
            <p class="lightbox-caption" id="lightbox-caption"></p>
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <script>
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');
        const lightboxCounter = document.getElementById('lightbox-counter');
        const galleryImages = document.querySelectorAll('.gallery-grid img');
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            updateLightbox();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateLightbox() {
            lightboxImg.src = galleryImages[currentIndex].src;
            lightboxImg.alt = galleryImages[currentIndex].alt;
            lightboxCaption.textContent = galleryImages[currentIndex].dataset.caption || '';
            lightboxCounter.textContent = `${currentIndex + 1} / ${galleryImages.length}`;
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
            updateLightbox();
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % galleryImages.length;
            updateLightbox();
        }

        galleryImages.forEach((img, index) => {
            img.addEventListener('click', () => openLightbox(index));
        });

        document.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
        document.querySelector('.lightbox-prev').addEventListener('click', prevImage);
        document.querySelector('.lightbox-next').addEventListener('click', nextImage);

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') prevImage();
            if (e.key === 'ArrowRight') nextImage();
        });

        // PDF Preview
        const pdfModal = document.getElementById('pdf-modal');
        const pdfIframe = document.getElementById('pdf-iframe');
        const pdfPath = '../assets/parcel-ownership-map/USFS%20Project%20Report.pdf';

        document.getElementById('preview-btn').addEventListener('click', () => {
            pdfIframe.src = pdfPath;
            pdfModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        document.getElementById('pdf-close').addEventListener('click', () => {
            pdfModal.classList.remove('active');
            pdfIframe.src = '';
            document.body.style.overflow = '';
        });

        pdfModal.addEventListener('click', (e) => {
            if (e.target === pdfModal) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && pdfModal.classList.contains('active')) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });
    </script>
</body>
</html>
