<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plastic Obscura - An Atlas - Pat Hall</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">Pat Hall</a>
            <ul class="nav-links">
                <li><a href="../index.html#about">about</a></li>
                <li><a href="../index.html#experience">experience</a></li>
                <li><a href="../index.html#portfolio">projects</a></li>
                <li><a href="../index.html#contact">contact</a></li>
            </ul>
        </div>
    </nav>

    <header class="project-hero">
        <div class="project-hero-image">
            <img src="../images/PO.png" alt="Plastic Obscura - An Atlas" style="object-position: bottom;">
        </div>
        <div class="project-hero-content">
            <div class="project-hero-inner">
                <a href="../index.html#portfolio" class="back-link">&larr; back to projects</a>
                <h1>Plastic Obscura - An Atlas</h1>
                <div class="project-meta">
                    <span>Cartography</span>
                    <span>May 2023</span>
                </div>
            </div>
        </div>
    </header>

    <main class="project-main">
        <section class="project-section">
            <h2>Overview</h2>
            <p>In 2023 I put together a mini-atlas for a Cartography class. For me, this was an exciting opportunity to dive into a topic I have found interesting since first hearing a story in the news about how the US does not really recycle plastic.</p>
            <p>I took a deep dive into the US Census Bureau's Economic Database, and produced a final project I was proud of.</p>
        </section>

        <section class="project-section">
            <h2>Design Inspiration</h2>
            <p>The design took inspiration from the cartography of William Bunge, specifically his map titled "Direction of Money Transfers in Metropolitan Detroit."</p>
        </section>

        <section class="project-section">
            <h2>Gallery</h2>
            <div class="gallery-grid">
                <img src="../assets/plastic-obscura-atlas/gallery/page-1.png" alt="Plastic Obscura Atlas - Page 1">
                <img src="../assets/plastic-obscura-atlas/gallery/page-2.png" alt="Plastic Obscura Atlas - Page 2">
                <img src="../assets/plastic-obscura-atlas/gallery/page-3.png" alt="Plastic Obscura Atlas - Page 3">
                <img src="../assets/plastic-obscura-atlas/gallery/page-4.png" alt="Plastic Obscura Atlas - Page 4">
                <img src="../assets/plastic-obscura-atlas/gallery/page-5.png" alt="Plastic Obscura Atlas - Page 5">
                <img src="../assets/plastic-obscura-atlas/gallery/page-6.png" alt="Plastic Obscura Atlas - Page 6">
                <img src="../assets/plastic-obscura-atlas/gallery/page-7.png" alt="Plastic Obscura Atlas - Page 7">
            </div>
        </section>

        <section class="project-section">
            <h2>Atlas Download</h2>
            <p><button class="download-link" id="preview-btn">Full Atlas (PDF)</button></p>
        </section>

        <!-- PDF Preview Modal -->
        <div class="pdf-modal" id="pdf-modal">
            <div class="pdf-modal-content">
                <div class="pdf-modal-header">
                    <span>Plastic Obscura - An Atlas</span>
                    <div class="pdf-modal-actions">
                        <a href="../assets/plastic-obscura-atlas/PlasticObscura.pdf" class="pdf-download-btn" download>Download</a>
                        <button class="pdf-close-btn" id="pdf-close">&times;</button>
                    </div>
                </div>
                <iframe src="" id="pdf-iframe" class="pdf-iframe"></iframe>
            </div>
        </div>

        <nav class="project-nav">
            <a href="geotiff-exporter.html" class="project-nav-link prev">
                <span class="nav-label">previous</span>
                <span class="nav-title">Bulk GeoTIFF Exporter</span>
            </a>
            <a href="wheat-ridge-infrastructure.html" class="project-nav-link next">
                <span class="nav-label">next</span>
                <span class="nav-title">Wheat Ridge Infrastructure Consulting</span>
            </a>
        </nav>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Pat Hall</p>
    </footer>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" aria-label="Close">&times;</button>
        <button class="lightbox-prev" aria-label="Previous">&larr;</button>
        <button class="lightbox-next" aria-label="Next">&rarr;</button>
        <div class="lightbox-content">
            <img src="" alt="" id="lightbox-img">
            <p class="lightbox-caption" id="lightbox-caption"></p>
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <script>
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');
        const lightboxCounter = document.getElementById('lightbox-counter');
        const galleryImages = document.querySelectorAll('.gallery-grid img');
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            updateLightbox();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateLightbox() {
            lightboxImg.src = galleryImages[currentIndex].src;
            lightboxImg.alt = galleryImages[currentIndex].alt;
            lightboxCaption.textContent = galleryImages[currentIndex].dataset.caption || '';
            lightboxCounter.textContent = `${currentIndex + 1} / ${galleryImages.length}`;
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
            updateLightbox();
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % galleryImages.length;
            updateLightbox();
        }

        galleryImages.forEach((img, index) => {
            img.addEventListener('click', () => openLightbox(index));
        });

        document.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
        document.querySelector('.lightbox-prev').addEventListener('click', prevImage);
        document.querySelector('.lightbox-next').addEventListener('click', nextImage);

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') prevImage();
            if (e.key === 'ArrowRight') nextImage();
        });

        // PDF Preview
        const pdfModal = document.getElementById('pdf-modal');
        const pdfIframe = document.getElementById('pdf-iframe');
        const pdfPath = '../assets/plastic-obscura-atlas/PlasticObscura.pdf';

        document.getElementById('preview-btn').addEventListener('click', () => {
            pdfIframe.src = pdfPath;
            pdfModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        document.getElementById('pdf-close').addEventListener('click', () => {
            pdfModal.classList.remove('active');
            pdfIframe.src = '';
            document.body.style.overflow = '';
        });

        pdfModal.addEventListener('click', (e) => {
            if (e.target === pdfModal) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && pdfModal.classList.contains('active')) {
                pdfModal.classList.remove('active');
                pdfIframe.src = '';
                document.body.style.overflow = '';
            }
        });
    </script>
</body>
</html>
